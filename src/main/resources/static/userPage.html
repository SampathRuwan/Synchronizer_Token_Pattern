<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>SSD</title>
    
     <!--Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script type="text/javascript" src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>

</head>
<body>
  	<div class="container">
  		<div class="row">
  			<div class="col-md-12 col-sm-12 col-xs-12">
  				<h2 class="text-center"><b>user data</b></h2>
  				<form action="/userdetails" method="POST" modelAttribute="CookieModel">
				  <div class="form-group">
				  	<label for="userID">Id number</label>
				    <input type="text" class="form-control" id="userID" name="Id" placeholder="Index number" value="">
				  </div>
				  <div class="form-group">
				    <input type="hidden" class="form-control" id="userHidden" name="csrfToken" value="">
				  </div>
				  <button type="submit" class="btn btn-default">Submit</button>
				</form>
  			</div>
  		</div>
	</div>
		 
</body>

<script type="text/javascript">
$(document).ready(function () {
	$.ajax({
        type: "POST",
	    url: "/getcsrftoken",
	    success: function (data) {
	    	//$("#userHidden").val() = data;
	    	document.getElementById("userHidden").value = data;
	    	console.log(data)
	   },
       error: function () {
	        alert("error");
     } 
   });
	
	
});
</script>
</html>